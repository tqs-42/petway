{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar DeliveryScreen = function DeliveryScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var delivery = route.params.delivery;\n  useFocusEffect(React.useCallback(function () {\n    function getRiderInfo() {\n      var data;\n      return _regeneratorRuntime.async(function getRiderInfo$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"user\"));\n\n            case 2:\n              data = _context.sent;\n              data = JSON.parse(data);\n              fetchData(data.token);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    getRiderInfo();\n\n    function fetchData(token) {\n      return _regeneratorRuntime.async(function fetchData$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fetch(\"http://localhost:6869/deliveries/delivery?id=\" + delivery.id, {\n                headers: {\n                  'Access-Control-Allow-Origin': '*',\n                  'Authorization': 'Bearer ' + token\n                }\n              }).then(function (response) {\n                return response.json();\n              }).then(function (data) {\n                console.log(\"deliveries\", data);\n                setDeliveries(data);\n              }).catch(function (reason) {\n                setError(true);\n              });\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, []));\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(Text, {\n      style: styles.title,\n      children: [\"Delivery No.: \", delivery.id]\n    }), _jsxs(Text, {\n      style: styles.title,\n      children: [\"Store: \", delivery.store.name]\n    }), _jsxs(Text, {\n      style: styles.title,\n      children: [\"Store address: \", delivery.store.latitude]\n    })]\n  });\n};\n\nexport default DeliveryScreen;\nvar styles = StyleSheet.create({\n  title: {\n    fontSize: 32\n  },\n  container: {\n    flex: 1,\n    padding: 20,\n    paddingTop: 20,\n    paddingBottom: 20,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"names":["React","DeliveryScreen","navigation","route","delivery","params","useFocusEffect","useCallback","getRiderInfo","AsyncStorage","getItem","data","JSON","parse","fetchData","token","fetch","id","headers","then","response","json","console","log","setDeliveries","catch","reason","setError","styles","container","title","store","name","latitude","StyleSheet","create","fontSize","flex","padding","paddingTop","paddingBottom","backgroundColor","alignItems","justifyContent"],"sources":["/home/ricardo/Documents/3_ANO/TQS/petway/projRiderApp/src/screens/DeliveryScreen.js"],"sourcesContent":["\n\n\nimport React from 'react';\nimport { View, Text, Button, StyleSheet, TouchableOpacity } from 'react-native';\n\nconst DeliveryScreen = ({ navigation, route }) => {\n\n  const delivery  = route.params.delivery;\n\n   // fetch data from the API\n   useFocusEffect(\n    React.useCallback(() => {\n\n      async function getRiderInfo() {\n        let data = await AsyncStorage.getItem(\"user\")\n        data = JSON.parse(data)\n        fetchData(data.token)\n      }\n\n      getRiderInfo()\n\n      async function fetchData(token) {\n\n        fetch(\n          `http://localhost:6869/deliveries/delivery?id=${delivery.id}`,\n          {\n            headers: { \n                       'Access-Control-Allow-Origin': '*',\n                       'Authorization' : 'Bearer ' + token,\n                      }\n          }\n        )\n          .then(response => response.json())\n          .then(data => {\n            console.log(\"deliveries\", data)\n            setDeliveries(data)\n          })\n          .catch((reason) => {\n            setError(true)\n          })\n      }\n\n    }, [])\n  );\n\n  return (\n    <View style={styles.container}>\n        <Text style={styles.title}>Delivery No.: {delivery.id}</Text>\n        <Text style={styles.title}>Store: {delivery.store.name}</Text>\n        <Text style={styles.title}>Store address: {delivery.store.latitude}</Text>\n    </View>\n  );\n};\n\n\nexport default DeliveryScreen;\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 32\n  },\n  container: {\n      flex: 1,\n      padding: 20,\n      paddingTop: 20,\n      paddingBottom: 20,\n      backgroundColor: '#fff',\n      alignItems: 'center',\n      justifyContent: 'center',\n  }\n});\n"],"mappings":";AAGA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;AAGA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAA2B;EAAA,IAAxBC,UAAwB,QAAxBA,UAAwB;EAAA,IAAZC,KAAY,QAAZA,KAAY;EAEhD,IAAMC,QAAQ,GAAID,KAAK,CAACE,MAAN,CAAaD,QAA/B;EAGCE,cAAc,CACbN,KAAK,CAACO,WAAN,CAAkB,YAAM;IAEtB,SAAeC,YAAf;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCACmBC,YAAY,CAACC,OAAb,CAAqB,MAArB,CADnB;;YAAA;cACMC,IADN;cAEEA,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWF,IAAX,CAAP;cACAG,SAAS,CAACH,IAAI,CAACI,KAAN,CAAT;;YAHF;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;IAMAP,YAAY;;IAEZ,SAAeM,SAAf,CAAyBC,KAAzB;MAAA;QAAA;UAAA;YAAA;cAEEC,KAAK,mDAC6CZ,QAAQ,CAACa,EADtD,EAEH;gBACEC,OAAO,EAAE;kBACE,+BAA+B,GADjC;kBAEE,iBAAkB,YAAYH;gBAFhC;cADX,CAFG,CAAL,CASGI,IATH,CASQ,UAAAC,QAAQ;gBAAA,OAAIA,QAAQ,CAACC,IAAT,EAAJ;cAAA,CAThB,EAUGF,IAVH,CAUQ,UAAAR,IAAI,EAAI;gBACZW,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BZ,IAA1B;gBACAa,aAAa,CAACb,IAAD,CAAb;cACD,CAbH,EAcGc,KAdH,CAcS,UAACC,MAAD,EAAY;gBACjBC,QAAQ,CAAC,IAAD,CAAR;cACD,CAhBH;;YAFF;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAqBD,CA/BD,EA+BG,EA/BH,CADa,CAAd;EAmCD,OACE,MAAC,IAAD;IAAM,KAAK,EAAEC,MAAM,CAACC,SAApB;IAAA,WACI,MAAC,IAAD;MAAM,KAAK,EAAED,MAAM,CAACE,KAApB;MAAA,6BAA0C1B,QAAQ,CAACa,EAAnD;IAAA,EADJ,EAEI,MAAC,IAAD;MAAM,KAAK,EAAEW,MAAM,CAACE,KAApB;MAAA,sBAAmC1B,QAAQ,CAAC2B,KAAT,CAAeC,IAAlD;IAAA,EAFJ,EAGI,MAAC,IAAD;MAAM,KAAK,EAAEJ,MAAM,CAACE,KAApB;MAAA,8BAA2C1B,QAAQ,CAAC2B,KAAT,CAAeE,QAA1D;IAAA,EAHJ;EAAA,EADF;AAOD,CA/CD;;AAkDA,eAAehC,cAAf;AAEA,IAAM2B,MAAM,GAAGM,UAAU,CAACC,MAAX,CAAkB;EAC/BL,KAAK,EAAE;IACLM,QAAQ,EAAE;EADL,CADwB;EAI/BP,SAAS,EAAE;IACPQ,IAAI,EAAE,CADC;IAEPC,OAAO,EAAE,EAFF;IAGPC,UAAU,EAAE,EAHL;IAIPC,aAAa,EAAE,EAJR;IAKPC,eAAe,EAAE,MALV;IAMPC,UAAU,EAAE,QANL;IAOPC,cAAc,EAAE;EAPT;AAJoB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}